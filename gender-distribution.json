{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "title": {
    "text": "Gender Distribution in Professional Tennis: The Rise of Women's Tennis",
    "fontSize": 20,
    "fontWeight": "bold",
    "color": "#9ACD32"
  },
  "description": "Analysis of male and female participation in professional tennis by birth decade, showing the dramatic growth of women's tennis.",
  "data": {
    "url": "gender_by_decade.csv"
  },
  "width": 800,
  "height": 500,
  "transform": [
    {
      "calculate": "datum.gender === 'Male' ? -datum.count : datum.count",
      "as": "signed_count"
    }
  ],
  "mark": {
    "type": "bar",
    "tooltip": true
  },
  "encoding": {
    "y": {
      "field": "decade",
      "type": "ordinal",
      "title": "Birth Decade",
      "axis": {
        "titleFontWeight": "bold",
        "titleColor": "#9ACD32",
        "titleFontSize": 16,
        "labelFontSize": 12
      }
    },
    "x": {
      "field": "signed_count",
      "type": "quantitative",
      "title": "Number of Players",
      "axis": {
        "titleFontWeight": "bold",
        "titleColor": "#9ACD32",
        "titleFontSize": 16,
        "labelFontSize": 13,
        "labelExpr": "abs(datum.value)"
      }
    },
    "color": {
      "field": "gender",
      "type": "nominal",
      "scale": {
        "domain": ["Male", "Female"],
        "range": ["#3498db", "#e74c3c"]
      },
      "legend": {
        "title": "Gender",
        "orient": "bottom",
        "titleFontSize": 14,
        "titleColor": "#9ACD32",
        "labelFontSize": 12,
        "direction": "horizontal"
      }
    },
    "tooltip": [
      {
        "field": "decade",
        "type": "ordinal",
        "title": "Birth Decade"
      },
      {
        "field": "gender",
        "type": "nominal",
        "title": "Gender"
      },
      {
        "field": "count",
        "type": "quantitative",
        "title": "Number of Players",
        "format": ","
      }
    ]
  },
  "config": {
    "view": {
      "stroke": "transparent"
    },
    "axis": {
      "grid": true,
      "gridColor": "#f0f0f0",
      "gridOpacity": 0.5,
      "domain": true,
      "ticks": true
    }
  }
}

